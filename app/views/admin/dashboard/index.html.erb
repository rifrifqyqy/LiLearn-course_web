<%# style %>
<% btn_dashboard = "text-zinc-800 py-3 rounded-xl font-semibold hover:bg-zinc-200 transition-all flex gap-4 items-center px-4"%>
<%# style end %>

<main class="grid grid-cols-5 bg-gray-100">
  <section class="bg-white col-span-1 shadow-sm h-screen flex flex-col px-8">
    <h1 class="text-3xl font-semibold uppercase w-fit mx-auto mt-8"><span class="text-amber-500">Li</span>learnv
    </h1>
    <ul class="mt-16   flex flex-col gap-4">
      <button class="<%= full_button_classes('dashboard') %>" id="dashboard" onclick="setButtonId('dashboard')">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
          <path fill="currentColor" d="M4 13h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1m0 8h6c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1m10 0h6c.55 0 1-.45 1-1v-8c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1M13 4v4c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1" />
        </svg>
        <p>Dashboard</p>
      </button>
      <button class="<%= full_button_classes('admin') %>" id="admin" onclick="setButtonId('admin')">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
          <path fill="currentColor" d="M17 11c.34 0 .67.04 1 .09V6.27L10.5 3L3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82c.55-.13 1.08-.32 1.6-.55c-.69-.98-1.1-2.17-1.1-3.45c0-3.31 2.69-6 6-6" />
          <path fill="currentColor" d="M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12s-1.12-.51-1.12-1.12s.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17c.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17" />
        </svg>
        <p>Admin</p>
      </button>
      <button class="<%= full_button_classes('users') %>" id="users" onclick="setButtonId('users')">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 4a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4" />
        </svg>
        <p>Users</p>
      </button>
      <button class="<%= full_button_classes('course') %>" id="course" onclick="setButtonId('course')">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4s8-1.79 8-4s-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4" />
        </svg>
        <p>Courses</p>
      </button>
      <button class="<%= btn_dashboard %>">
        <svg xmlns="http://www.w3.org/2000/svg" width="26px" height="26px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h7v2H5v14h7v2zm11-4l-1.375-1.45l2.55-2.55H9v-2h8.175l-2.55-2.55L16 7l5 5z" />
        </svg>
        <p>Logout</p>
      </button>
    </ul>
  </section>
  <section class="col-span-4 h-screen overflow-y-scroll">
    <nav class="w-full flex bg-white shadow-sm sticky top-0 py-4 px-8 z-50 justify-between">
      <h2 class="font-semibold text-zinc-800 text-3xl">Dashboard</h2>
      <h1 class="w-fit ml-auto">
        <%= railsbutton_primary("Add Course", "/courses/new", color: "bg-amber-500 text-white", icon: '<svg xmlns="http://www.w3.org/2000/svg" width="26px" height="26px" viewBox="0 0 24 24"><path fill="currentColor" d="M18 14h2v3h3v2h-3v3h-2v-3h-3v-2h3zM12 3c4.42 0 8 1.79 8 4s-3.58 4-8 4s-8-1.79-8-4s3.58-4 8-4M4 9c0 2.21 3.58 4 8 4s8-1.79 8-4v3.08L19 12c-2.59 0-4.8 1.64-5.64 3.94L12 16c-4.42 0-8-1.79-8-4zm0 5c0 2.21 3.58 4 8 4h1c0 1.05.27 2.04.75 2.9L12 21c-4.42 0-8-1.79-8-4z"/></svg>') %>
      </h1>
    </nav>

    <% current_button_id = params[:button_id] || 'dashboard' %>

    <% case current_button_id %>
    <% when 'course' %>
    <%= render 'layouts/dashboard/courses_content', locals: { courses: @courses } %>
    <% when 'dashboard' %>
    <%= render 'layouts/dashboard/dashboard_content' %>
    <% when 'admin' %>
    <%= render 'layouts/dashboard/admin_content' %>
    <% when 'users' %>
    <%= render 'layouts/dashboard/users_content' %>
    <% else %>
    <%= render 'layouts/dashboard/dashboard_content' %>
    <% end %>



</main>
<script>
  function setButtonId(buttonId) {
    const url = new URL(window.location.href);
    url.searchParams.set('button_id', buttonId);
    url.searchParams.delete('page');
    window.location.href = url.toString();
  }
</script>